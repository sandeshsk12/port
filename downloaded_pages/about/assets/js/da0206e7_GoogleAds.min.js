var GoogleAds_RS=function(e){"use strict";function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=p(e))||t){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function i(e,t,r){return(t=u(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||p(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function p(e,r){if(e){if("string"==typeof e)return t(e,r);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(e,r):void 0}}var f="GA4",y="Google Analytics 4 (GA4)",d="GOOGLEADS",v="Google Ads";i({},v,"GoogleAds"),i(i(i(i(i(i({},d,d),"Google Ads",d),"GoogleAds",d),"GOOGLE ADS",d),"google ads",d),"googleads",d);var m={LOG:{value:0,method:console.log},INFO:{value:1,method:console.info},DEBUG:{value:2,method:console.debug},WARN:{value:3,method:console.warn},ERROR:{value:4,method:console.error}},g=function(){return n((function e(t,n){r(this,e),this.level=+n||m.ERROR.value,this.scope=t||""}),[{key:"setLogLevel",value:function(e){if(e&&"string"==typeof e){var t=e.toUpperCase();this.level=m[t]?m[t].value:this.level}}},{key:"setScope",value:function(e){this.scope=e||this.scope}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logBase(t,m.LOG.value)}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logBase(t,m.INFO.value)}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logBase(t,m.DEBUG.value)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logBase(t,m.WARN.value)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logBase(t,m.ERROR.value)}},{key:"logBase",value:function(e,t){if(this.level<=t){var r=Object.values(m).find((function(e){return e.value===t}));r.method.apply(r,c(this.getLogData(e)))}}},{key:"getLogData",value:function(e){if(Array.isArray(e)&&e.length>0){var t="%c RS SDK";this.scope&&(t="".concat(t," - ").concat(this.scope));var r=e[0].trim();t="".concat(t," %c ").concat(r);var n=[];return n.push(t),n.push("font-weight: bold; background: black; color: white;"),n.push("font-weight: normal;"),n.push.apply(n,c(e.slice(1))),n}return e}}])}(),h=function(e){return!function(e){return void 0===e}(e)};function _(e){return null!=e&&"object"===l(e)&&!0===e["@@functional/placeholder"]}function b(e){return function t(r){return 0===arguments.length||_(r)?t:e.apply(this,arguments)}}function E(e){return function t(r,n){switch(arguments.length){case 0:return t;case 1:return _(r)?t:b((function(t){return e(r,t)}));default:return _(r)&&_(n)?t:_(r)?b((function(t){return e(t,n)})):_(n)?b((function(t){return e(r,t)})):e(r,n)}}}var A=Array.isArray||function(e){return null!=e&&e.length>=0&&"[object Array]"===Object.prototype.toString.call(e)};function O(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}function w(e,t,r){for(var n=0,o=r.length;n<o;){if(e(t,r[n]))return!0;n+=1}return!1}function K(e,t){return Object.prototype.hasOwnProperty.call(t,e)}var C="function"==typeof Object.is?Object.is:function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t},j=Object.prototype.toString,S=function(){return"[object Arguments]"===j.call(arguments)?function(e){return"[object Arguments]"===j.call(e)}:function(e){return K("callee",e)}}(),D=!{toString:null}.propertyIsEnumerable("toString"),k=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],R=function(){return arguments.propertyIsEnumerable("length")}(),L=function(e,t){for(var r=0;r<e.length;){if(e[r]===t)return!0;r+=1}return!1},T="function"!=typeof Object.keys||R?b((function(e){if(Object(e)!==e)return[];var t,r,n=[],o=R&&S(e);for(t in e)!K(t,e)||o&&"length"===t||(n[n.length]=t);if(D)for(r=k.length-1;r>=0;)K(t=k[r],e)&&!L(n,t)&&(n[n.length]=t),r-=1;return n})):b((function(e){return Object(e)!==e?[]:Object.keys(e)})),P=b((function(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)}));function I(e,t,r,n){var o=O(e);function i(e,t){return N(e,t,r.slice(),n.slice())}return!w((function(e,t){return!w(i,t,e)}),O(t),o)}function N(e,t,r,n){if(C(e,t))return!0;var o,i,a=P(e);if(a!==P(t))return!1;if("function"==typeof e["fantasy-land/equals"]||"function"==typeof t["fantasy-land/equals"])return"function"==typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t)&&"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e);if("function"==typeof e.equals||"function"==typeof t.equals)return"function"==typeof e.equals&&e.equals(t)&&"function"==typeof t.equals&&t.equals(e);switch(a){case"Arguments":case"Array":case"Object":if("function"==typeof e.constructor&&"Promise"===(o=e.constructor,null==(i=String(o).match(/^function (\w*)/))?"":i[1]))return e===t;break;case"Boolean":case"Number":case"String":if(l(e)!==l(t)||!C(e.valueOf(),t.valueOf()))return!1;break;case"Date":if(!C(e.valueOf(),t.valueOf()))return!1;break;case"Error":return e.name===t.name&&e.message===t.message;case"RegExp":if(e.source!==t.source||e.global!==t.global||e.ignoreCase!==t.ignoreCase||e.multiline!==t.multiline||e.sticky!==t.sticky||e.unicode!==t.unicode)return!1}for(var s=r.length-1;s>=0;){if(r[s]===e)return n[s]===t;s-=1}switch(a){case"Map":return e.size===t.size&&I(e.entries(),t.entries(),r.concat([e]),n.concat([t]));case"Set":return e.size===t.size&&I(e.values(),t.values(),r.concat([e]),n.concat([t]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var c=T(e);if(c.length!==T(t).length)return!1;var u=r.concat([e]),p=n.concat([t]);for(s=c.length-1;s>=0;){var f=c[s];if(!K(f,t)||!N(t[f],e[f],u,p))return!1;s-=1}return!0}var U=E((function(e,t){return N(e,t,[],[])}));var q=b((function(e){return null!=e&&"function"==typeof e["fantasy-land/empty"]?e["fantasy-land/empty"]():null!=e&&null!=e.constructor&&"function"==typeof e.constructor["fantasy-land/empty"]?e.constructor["fantasy-land/empty"]():null!=e&&"function"==typeof e.empty?e.empty():null!=e&&null!=e.constructor&&"function"==typeof e.constructor.empty?e.constructor.empty():A(e)?[]:function(e){return"[object String]"===Object.prototype.toString.call(e)}(e)?"":function(e){return"[object Object]"===Object.prototype.toString.call(e)}(e)?{}:S(e)?function(){return arguments}():function(e){var t=Object.prototype.toString.call(e);return"[object Uint8ClampedArray]"===t||"[object Int8Array]"===t||"[object Uint8Array]"===t||"[object Int16Array]"===t||"[object Uint16Array]"===t||"[object Int32Array]"===t||"[object Uint32Array]"===t||"[object Float32Array]"===t||"[object Float64Array]"===t||"[object BigInt64Array]"===t||"[object BigUint64Array]"===t}(e)?e.constructor.from(""):void 0})),G=b((function(e){return null!=e&&U(e,q(e))})),F=E((function(e,t){var r={};for(var n in t)e(t[n],n,t)&&(r[n]=t[n]);return r})),V=function(e){return"object"===l(e)||"string"==typeof e?!G(e):G(e)},x=function(e){return null!=e},B=function(e){return h(e)&&x(e)};function M(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"normal",o={};return function e(i,a){var s,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set;if(c.has(i))o[a]="[Circular Reference]";else{if(c.add(i),Object(i)!==i)o[a]=i;else if(Array.isArray(i)){for(s=0,t=i.length;s<t;s+=1)e(i[s],"strict"===n?"".concat(a).concat(r).concat(s):"".concat(a,"[").concat(s,"]"),c);0===t&&(o[a]=[])}else{var u=!0;Object.keys(i).forEach((function(t){u=!1,e(i[t],a?"".concat(a).concat(r).concat(t):t,c)})),u&&a&&(o[a]={})}c.delete(i)}}(e,""),o}for(var Y=Object.defineProperty,W=function(e,t){return Y(e,"name",{value:t,configurable:!0})},z=W((function(e){return null!==e&&"object"===l(e)}),"isObject"),H=W((function(e,t,r){return"function"==typeof r.join?r.join(e):e[0]+t+e[1]}),"join"),J=W((function(e,t,r){return"function"==typeof r.split?r.split(e):e.split(t)}),"split"),$=W((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return"function"!=typeof(null==r?void 0:r.isValid)||r.isValid(e,t)}),"isValid"),Q=W((function(e){return z(e)||"function"==typeof e}),"isValidObject"),X=W((function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(z(r)||(r={default:r}),!Q(e))return void 0!==r.default?r.default:e;"number"==typeof t&&(t=String(t));var n=Array.isArray(t),o="string"==typeof t,i=r.separator||".",a=r.joinChar||("string"==typeof i?i:".");if(!o&&!n)return e;if(void 0!==e[t])return $(t,e,r)?e[t]:r.default;var s=n?t:J(t,i,r),c=s.length,u=0;do{var l=s[u];for("string"!=typeof l&&(l=String(l));l&&"\\"===l.slice(-1);)l=H([l.slice(0,-1),s[++u]||""],a,r);if(void 0!==e[l]){if(!$(l,e,r))return r.default;e=e[l]}else{for(var p=!1,f=u+1;f<c;)if(p=void 0!==e[l=H([l,s[f++]],a,r)]){if(!$(l,e,r))return r.default;e=e[l],u=f-1;break}if(!p)return r.default}}while(++u<c&&Q(e));return u===c?e:r.default}),"getValue"),Z=X,ee=256;ee--;)(ee+256).toString(16).substring(1);for(var te=0;te<256;te++)(te+256).toString(16).substring(1);var re=3,ne=function(){var e;re<=2&&(e=console).log.apply(e,arguments)},oe=function(){var e;re<=3&&(e=console).warn.apply(e,arguments)};function ie(e,t,r,n){var o=[],i=t||{};return Array.isArray(r)?r.forEach((function(t){var r=Z(e,t);r&&(Object.keys(r).forEach((function(e){n.includes(e)||o.push(e)})),o.forEach((function(e){void 0!==r[e]&&(i[e]=Z(r,e))})))})):"root"===r?(Object.keys(e).forEach((function(e){n.includes(e)||o.push(e)})),o.forEach((function(t){void 0!==e[t]&&(i[t]=Z(e,t))}))):ne("unable to parse keys"),i}var ae=function(e){return h(e)&&function(e){return null!==e}(e)},se=function(e){var t=e.message,r=e.operationObject,n=r.operation,i=r.args.map((function(e){var r=e.sourceKeys,n=e.defaultVal,o=Z(t,r);return o||!1===o||0===o?o:n}));if(!i.every((function(e){return ae(e)})))return null;var a=null;switch(n){case"multiplication":a=1;var s,c=o(i);try{for(c.s();!(s=c.n()).done;){var u=s.value;if("number"!=typeof u)return null;a*=u}}catch(y){c.e(y)}finally{c.f()}return a.toFixed(2);case"addition":a=0;var l,p=o(i);try{for(p.s();!(l=p.n()).done;){var f=l.value;if("number"!=typeof f)return null;a+=f}}catch(y){p.e(y)}finally{p.f()}return a.toFixed(2);default:return null}},ce=function(e,t){var r=e,n={jsonStringify:function(){r=JSON.stringify(e)},jsonStringifyOnObject:function(){"string"!=typeof e&&(r=JSON.stringify(e))},toString:function(){r=String(e)},toNumber:function(){r=Number(e)},toFloat:function(){r=parseFloat(e)},toInt:function(){r=parseInt(e,10)},toLower:function(){r=e.toString().toLowerCase()},trim:function(){"string"==typeof e&&(r=e.trim())},IsBoolean:function(){r=!0,"boolean"!=typeof e&&(ne("Boolean value missing, so dropping it"),r=!1)}};t in n&&(0,n[t])();return r},ue=function(e,t){var r={};return Array.isArray(t)&&t.length>0&&t.forEach((function(t){var n=t.sourceKeys,i=t.destKey,a=t.metadata,s=function(e,t){if(!t)return e;var r=t.type,n=t.defaultValue;if(!ae(e))return n||e;var o=e;return r&&(Array.isArray(r)?r.forEach((function(e){o=ce(o,e)})):o=ce(o,r)),o}(function(e,t){if(Array.isArray(t)&&t.length>0){var r,n=o(t);try{for(n.s();!(r=n.n()).done;){var i=r.value,a=void 0;if((a="object"===l(i)?se({message:e,operationObject:i}):Z(e,i))||!1===a||0===a)return a}}catch(s){n.e(s)}finally{n.f()}return null}return"object"===l(t)?se({message:e,operationObject:t}):Z(e,t)}(e,n),a);(s||0===s||!1===s)&&i&&(r[i]=s)})),r};function le(e,t,r,n){if(!e||""===e.trim())return!1;if(!t)return!1;if(t&&!r)return!0;if(t&&r){var o=[];return n.forEach((function(e){""!==e.eventName&&o.push(e.eventName)})),o.includes(e.trim())}return!1}function pe(e,t,r,n,o){return ae(t)?le(e,t,r,n):!o}function fe(e,t,r,n,o){return ae(t)?le(e,t,r,n):o}function ye(e,t,r){var n={};return e&&(t&&"string"==typeof t?e.forEach((function(e){e.name.toLowerCase()===t.toLowerCase()&&(n.conversionLabel=e.conversionLabel,n.eventName=e.name)})):r&&(n.conversionLabel=r,n.eventName="Viewed a Page")),n}function de(e){var t=s({},e);return null!=t&&t.newCustomer&&(t.new_customer=t.newCustomer,delete t.newCustomer),t}var ve=new g(v);var me=function(e){return e?0===Object.keys(e).length:(oe("input is undefined or null"),!0)};i({},y,"GA4"),i(i(i(i(i(i(i(i(i(i({},f,f),"Google Analytics 4",f),"Google analytics 4",f),"google analytics 4",f),"Google Analytics4",f),"Google analytics4",f),"google analytics4",f),"Google Analytics 4 (GA4)",f),"google analytics 4 (ga4)",f),"GoogleAnalytics4",f);var ge=["item_id","itemId","product_id","item_name","itemName","name","coupon","item_brand","itemBrand","brand","item_variant","itemVariant","variant","price","quantity","index","position","affiliation","discount","item_category","itemCategory","category","item_category2","item_category3","item_category4","item_category5","item_list_id","item_list_name","location_id"],he=[{sourceKeys:["product_id","itemId"],destKey:"item_id"},{sourceKeys:["name","itemName"],destKey:"item_name"},{sourceKeys:"coupon",destKey:"coupon"},{sourceKeys:["brand","itemBrand"],destKey:"item_brand"},{sourceKeys:["variant","itemVariant"],destKey:"item_variant"},{sourceKeys:"price",destKey:"price",metadata:{type:"toNumber"}},{sourceKeys:"quantity",destKey:"quantity",metadata:{type:"toNumber"}},{sourceKeys:"position",destKey:"index",metadata:{type:"toNumber"}},{sourceKeys:"affiliation",destKey:"affiliation"},{sourceKeys:"discount",destKey:"discount"},{sourceKeys:["category","itemCategory"],destKey:"item_category"},{sourceKeys:"item_category2",destKey:"item_category2"},{sourceKeys:"item_category3",destKey:"item_category3"},{sourceKeys:"item_category4",destKey:"item_category4"},{sourceKeys:"item_category5",destKey:"item_category5"},{sourceKeys:"item_list_id",destKey:"item_list_id"},{sourceKeys:"item_list_name",destKey:"item_list_name"},{sourceKeys:"location_id",destKey:"location_id"}],_e={method:{sourceKeys:"properties.method",destKey:"method"},product_cart_shared_method:{sourceKeys:"properties.share_via",destKey:"method"},currency:{sourceKeys:"properties.currency",destKey:"currency",metadata:{defaultValue:"USD"}},value:{sourceKeys:["properties.total","properties.value","properties.revenue","properties.price"],destKey:"value",metadata:{type:"toNumber"}},product_add_or_remove_value:{sourceKeys:["properties.total","properties.value","properties.revenue",{operation:"multiplication",args:[{sourceKeys:"properties.price"},{sourceKeys:"properties.quantity",defaultVal:1}]}],destKey:"value",metadata:{type:"toNumber"}},search:{sourceKeys:"properties.query",destKey:"search_term"},list_id:{sourceKeys:"properties.list_id",destKey:"item_list_id"},list_name:{sourceKeys:"properties.category",destKey:"item_list_name"},creative_name:{sourceKeys:["properties.creative_name","properties.creative"],destKey:"creative_name"},creative_slot:{sourceKeys:["properties.creative_slot","properties.position"],destKey:"creative_slot"},promotion_id:{sourceKeys:"properties.promotion_id",destKey:"promotion_id"},promotion_name:{sourceKeys:["properties.promotion_name","properties.name"],destKey:"promotion_name"},coupon:{sourceKeys:"properties.coupon",destKey:"coupon"},payment_method:{sourceKeys:"properties.payment_method",destKey:"payment_type"},shipping_method:{sourceKeys:"properties.shipping_method",destKey:"shipping_tier"},order_id:{sourceKeys:"properties.order_id",destKey:"transaction_id"},shipping:{sourceKeys:"properties.shipping",destKey:"shipping",metadata:{type:"toNumber"}},tax:{sourceKeys:"properties.tax",destKey:"tax",metadata:{type:"toNumber"}},content_type:{sourceKeys:"properties.content_type",destKey:"content_type"},item_id:{sourceKeys:["properties.item_id","properties.product_id","properties.sku"],destKey:"item_id"},cart_shared_item_id:{sourceKeys:["properties.item_id","properties.cart_id"],destKey:"item_id"},url:{sourceKeys:["properties.url","context.page.url"],destKey:"page_location"},referrer:{sourceKeys:["properties.referrer","context.page.referrer"],destKey:"page_referrer"},title:{sourceKeys:["properties.title","context.page.title"],destKey:"page_title"}},be={LOGIN:{event:"login",mapping:[_e.method]},SIGN_UP:{event:"sign_up",mapping:[_e.method]},GENERATE_LEAD:{event:"generate_lead",mapping:[_e.currency,s(s({},_e.value),{},{required:!0})]},PRODUCTS_SEARCHED:{event:"search",mapping:[_e.search]},PRODUCT_SEARCHED:{event:"search",mapping:[_e.search]},PRODUCT_LIST_VIEWED:{event:"view_item_list",itemList:"YES",mapping:[_e.list_id,_e.list_name]},PROMOTION_VIEWED:{event:"view_promotion",itemList:"YES",mapping:[_e.promotion_id,_e.creative_slot,_e.creative_name,_e.promotion_name]},PROMOTION_CLICKED:{event:"select_promotion",itemList:"NO",mapping:[_e.promotion_id,_e.creative_slot,_e.creative_name,_e.promotion_name]},PRODUCT_CLICKED:{event:"select_item",item:"YES",mapping:[_e.list_id,_e.list_name]},PRODUCTS_CLICKED:{event:"select_item",item:"YES",mapping:[_e.list_id,_e.list_name]},PRODUCT_VIEWED:{event:"view_item",item:"YES",mapping:[_e.currency,s(s({},_e.value),{},{required:!0})]},PRODUCT_ADDED:{event:"add_to_cart",itemList:"NO",item:"YES",mapping:[_e.currency,s(s({},_e.product_add_or_remove_value),{},{required:!0})]},PRODUCT_REMOVED:{event:"remove_from_cart",itemList:"NO",item:"YES",mapping:[_e.currency,s(s({},_e.product_add_or_remove_value),{},{required:!0})]},CART_VIEWED:{event:"view_cart",itemList:"YES",mapping:[_e.currency,s(s({},_e.value),{},{required:!0})]},CHECKOUT_STARTED:{event:"begin_checkout",itemList:"YES",mapping:[_e.currency,_e.coupon,s(s({},_e.value),{},{required:!0})]},PAYMENT_INFO_ENTERED:{event:"add_payment_info",itemList:"YES",mapping:[_e.currency,_e.coupon,_e.payment_method,s(s({},_e.value),{},{required:!0})]},CHECKOUT_STEP_COMPLETED:{event:"add_shipping_info",itemList:"YES",mapping:[_e.currency,_e.coupon,_e.shipping_method,s(s({},_e.value),{},{required:!0})]},ORDER_COMPLETED:{event:"purchase",itemList:"YES",mapping:[_e.tax,_e.coupon,_e.shipping,_e.currency,s(s({},_e.value),{},{required:!0}),s(s({},_e.order_id),{},{required:!0})]},ORDER_REFUNDED:{event:"refund",itemList:"NO",mapping:[_e.tax,_e.coupon,_e.shipping,_e.currency,s(s({},_e.value),{},{required:!0}),s(s({},_e.order_id),{},{required:!0})]},PRODUCT_ADDED_TO_WISHLIST:{event:"add_to_wishlist",itemList:"NO",item:"YES",mapping:[_e.currency,s(s({},_e.value),{},{required:!0})]},PRODUCT_SHARED:{event:"share",mapping:[_e.item_id,_e.content_type,_e.product_cart_shared_method]},CART_SHARED:{event:"share",mapping:[_e.content_type,_e.cart_shared_item_id,_e.product_cart_shared_method]},PAGE:{event:"page_view",mapping:[_e.url,_e.title,_e.referrer]}},Ee=[be.PRODUCT_CLICKED.event,be.PRODUCT_VIEWED.event,be.PRODUCT_ADDED.event,be.PRODUCT_REMOVED.event,be.PRODUCT_ADDED_TO_WISHLIST.event],Ae=new g(y),Oe=function(e){return e.split(".").pop()},we=function(e){var t={};return"object"!==l(e)||Array.isArray(e)?e:(Object.keys(e).forEach((function(r){var n=e[r];("items"===r||"object"!==l(n)&&!function(e){return"string"==typeof e&&G(e.trim())}(n))&&(t[r]=n)})),t)},Ke=function(e,t,r){var n={};return n=ie(e,n,t,r),me(n)||(n=M(n,"_","strict")),n},Ce=function(e){var t=[],r=e.properties,n=null==r?void 0:r.products,o=!1;return"object"!==l(n)||Array.isArray(n)||(o=!0,n=[n]),Array.isArray(n)&&n.forEach((function(r,n){var i=ue(r,he),a=ie(e,{},o?["properties.products"]:["properties.products.".concat(n)],ge);me(a)||(i=we(s(s({},i),M(a,"_","strict")))),me(i)||t.push(i)})),t},je=function(e){var t=e.properties,r=[];if(t&&Object.keys(t).length>0){var n=ue(t,he);me(n)||r.push(n)}return r},Se=function(e,t){var r=t.event,n=t.mapping,o=ue(e,n);if(Array.isArray(n)&&n.length>0&&n.some((function(e){return!(B(o[e.destKey])||!e.required)&&(Ae.error("Missing required value from ".concat(JSON.stringify(e.sourceKeys))),!0)})))return null;var i=function(e,t){var r=t.itemList,n=t.item,o=[],i=!1;return r&&n?(o=Ce(e))&&o.length>0||(i=!0,o=je(e)):n?(i=!0,o=je(e)):r&&(o=Ce(e)),{items:o,mapRootLevelPropertiesToGA4ItemsArray:i}}(e,t),a=i.items,c=function(e,t,r){var n=t.reduce((function(e,t){var r=t.sourceKeys;return"string"==typeof r?e.push(Oe(r)):Array.isArray(r)&&r.forEach((function(t){"string"==typeof t&&e.push(Oe(t))})),e}),[]);return n.push("products"),e&&Ee.includes(r)&&(n=n.concat(ge)),n}(i.mapRootLevelPropertiesToGA4ItemsArray,n,r),u=Ke(e,["properties"],c);return a.length>0&&(o.items=a),me(u)||(o=s(s({},o),u)),o},De=function(e,t){var r=be["".concat(t.toUpperCase())],n=r?Se(e,r):function(e){return Ke(e,["properties"],[])}(e);return n?{params:we(n),event:r?r.event:t}:null},ke=new g(v),Re=function(){return n((function e(t,n,o){var i;r(this,e),n.logLevel&&ke.setLogLevel(n.logLevel),this.analytics=n,this.conversionId=t.conversionID,this.pageLoadConversions=t.pageLoadConversions,this.clickEventConversions=t.clickEventConversions,this.defaultPageConversion=t.defaultPageConversion,this.sendPageView=t.sendPageView||!0,this.conversionLinker=t.conversionLinker||!0,this.disableAdPersonalization=t.disableAdPersonalization||!1,this.trackConversions=t.trackConversions,this.trackDynamicRemarketing=t.trackDynamicRemarketing,this.enableConversionEventsFiltering=t.enableConversionEventsFiltering||!1,this.enableDynamicRemarketingEventsFiltering=t.enableDynamicRemarketingEventsFiltering||!1,this.eventsToTrackConversions=t.eventsToTrackConversions||[],this.eventsToTrackDynamicRemarketing=t.eventsToTrackDynamicRemarketing||[],this.eventMappingFromConfig=t.eventMappingFromConfig,this.enableConversionLabel=t.enableConversionLabel||!1,this.dynamicRemarketing=t.dynamicRemarketing,this.allowEnhancedConversions=t.allowEnhancedConversions||!1,this.v2=t.v2||!0,this.allowIdentify=null!==(i=t.allowIdentify)&&void 0!==i&&i,this.name=d;var a=null!=o?o:{};this.shouldApplyDeviceModeTransformation=a.shouldApplyDeviceModeTransformation,this.propagateEventsUntransformedOnError=a.propagateEventsUntransformedOnError,this.destinationId=a.destinationId}),[{key:"init",value:function(){!function(e){!function(e,t,r){ve.info("in script loader=== ".concat(e));var n=r.createElement("script");n.src=t,n.async=1,n.setAttribute("data-loader","RS_JS_SDK"),n.type="text/javascript",n.id=e,r.getElementsByTagName("head")[0].appendChild(n)}("googleAds-integration",e,document),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},window.gtag("js",new Date)}("https://www.googletagmanager.com/gtag/js?id=".concat(this.conversionId));var e={send_page_view:this.sendPageView,conversion_linker:this.conversionLinker};this.allowEnhancedConversions&&(e.allow_enhanced_conversions=this.allowEnhancedConversions),this.disableAdPersonalization&&window.gtag("set","allow_ad_personalization_signals",!1),window.gtag("config",this.conversionId,e)}},{key:"isLoaded",value:function(){return!(!window.dataLayer||window.dataLayer.push===Array.prototype.push)}},{key:"isReady",value:function(){return this.isLoaded()}},{key:"identify",value:function(e){if(!1!==this.allowIdentify){var t,r=e.message.context.traits;if(h(t=r)&&x(t)&&V(t))if(r.email&&r.phone&&(r.firstName||r.lastName||r.postalCode||r.country)){var n=function(e){var t={};return e&&(t.address={},ae(e.email)&&(t.email=e.email),ae(e.phone)&&(t.phone_number=e.phone),ae(e.firstName)&&(t.address.first_name=e.firstName),ae(e.lastName)&&(t.address.last_name=e.lastName),ae(e.city)&&(t.address.city=e.city),ae(e.street)&&(t.address.street=e.street),ae(e.state)&&(t.address.region=e.state),ae(e.postalCode)&&(t.address.postal_code=e.postalCode),ae(e.country)&&(t.address.country=e.country),e.city||e.state||e.postalCode||e.country||e.street||delete t.address),t}(r);window.gtag("set","user_data",n)}else ke.error("Email, Phone are mandatory fields and either of FirstName, LastName, PostalCode, Country is mandatory for identify call");else ke.error("Traits are mandatory for identify call")}else ke.info("Please enable identify call toggle in your destination settings to send user data to Google Ads.")}},{key:"track",value:function(e){var t=e.message.event,r=ye(this.clickEventConversions,t,this.defaultPageConversion);if(r.conversionLabel&&pe(t,this.trackConversions,this.enableConversionEventsFiltering,this.eventsToTrackConversions,this.dynamicRemarketing)){var n,o,i,a=r.conversionLabel,c=r.eventName,u="".concat(this.conversionId,"/").concat(a),l={value:null===(n=e.message)||void 0===n||null===(n=n.properties)||void 0===n?void 0:n.revenue,currency:null===(o=e.message)||void 0===o||null===(o=o.properties)||void 0===o?void 0:o.currency,transaction_id:null===(i=e.message)||void 0===i||null===(i=i.properties)||void 0===i?void 0:i.order_id,send_to:u};if(this.v2){var p=c.trim().replace(/\s+/g,"_"),f=De(e.message,p);l=s(s({},l),null==f?void 0:f.params)}l=de(l=F(B,l));var y=this.enableConversionLabel?"conversion":c;window.gtag("event",y,l)}if(fe(t,this.trackDynamicRemarketing,this.enableDynamicRemarketingEventsFiltering,this.eventsToTrackDynamicRemarketing,this.dynamicRemarketing)){var d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"from",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"to",n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o={};return Array.isArray(e)&&e.forEach((function(e){if(V(e[t])&&"string"==typeof e[t]){var i=n?e[t].toLowerCase().trim():e[t].trim();o[i]?o[i].includes(e[r])||o[i].push(e[r]):o[i]=[e[r]]}})),o}(this.eventMappingFromConfig,"from","to",!1),v=e.message.properties,m=e.message.event;if(this.v2){var g=m.toString().trim().replace(/\s+/g,"_"),h=De(e.message,g);v=s(s({},v),null==h?void 0:h.params)}var _=(v=de(v))||{},b=this.conversionId;_.send_to=b;var E=function(e,t){return t[e]?t[e]:null}(m,d);E?E.forEach((function(e){window.gtag("event",e,_)})):window.gtag("event",m,_)}}},{key:"page",value:function(e){var t=e.message.name,r=ye(this.pageLoadConversions,t,this.defaultPageConversion);if(r.conversionLabel&&pe(t,this.trackConversions,this.enableConversionEventsFiltering,this.eventsToTrackConversions,this.dynamicRemarketing)){var n=r.conversionLabel,o=r.eventName,i=this.enableConversionLabel?"conversion":o;window.gtag("event",i,{send_to:"".concat(this.conversionId,"/").concat(n)})}if(fe(t,this.trackDynamicRemarketing,this.enableDynamicRemarketingEventsFiltering,this.eventsToTrackDynamicRemarketing,this.dynamicRemarketing)){var a=t,s=e.message.properties,c=this.conversionId,u=s||{};u.send_to=c,window.gtag("event",a,u)}}}])}();return e.GoogleAds=Re,e}({});
//# sourceMappingURL=GoogleAds.min.js.map

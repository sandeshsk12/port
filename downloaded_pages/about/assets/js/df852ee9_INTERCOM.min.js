var INTERCOM_RS=function(t){"use strict";function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e,r){return e&&function(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,i(n.key),n)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function o(t,e,r){return(e=i(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,r){if(t){if("string"==typeof t)return e(t,r);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e(t,r):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}var c="INTERCOM",s="Intercom";o({},s,"INTERCOM"),o(o(o({},c,c),"Intercom",c),"intercom",c);var f={LOG:{value:0,method:console.log},INFO:{value:1,method:console.info},DEBUG:{value:2,method:console.debug},WARN:{value:3,method:console.warn},ERROR:{value:4,method:console.error}},l=function(){return n((function t(e,n){r(this,t),this.level=+n||f.ERROR.value,this.scope=e||""}),[{key:"setLogLevel",value:function(t){if(t&&"string"==typeof t){var e=t.toUpperCase();this.level=f[e]?f[e].value:this.level}}},{key:"setScope",value:function(t){this.scope=t||this.scope}},{key:"log",value:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this.logBase(e,f.LOG.value)}},{key:"info",value:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this.logBase(e,f.INFO.value)}},{key:"debug",value:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this.logBase(e,f.DEBUG.value)}},{key:"warn",value:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this.logBase(e,f.WARN.value)}},{key:"error",value:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this.logBase(e,f.ERROR.value)}},{key:"logBase",value:function(t,e){if(this.level<=e){var r=Object.values(f).find((function(t){return t.value===e}));r.method.apply(r,a(this.getLogData(t)))}}},{key:"getLogData",value:function(t){if(Array.isArray(t)&&t.length>0){var e="%c RS SDK";this.scope&&(e="".concat(e," - ").concat(this.scope));var r=t[0].trim();e="".concat(e," %c ").concat(r);var n=[];return n.push(e),n.push("font-weight: bold; background: black; color: white;"),n.push("font-weight: normal;"),n.push.apply(n,a(t.slice(1))),n}return t}}])}();for(var v=256;v--;)(v+256).toString(16).substring(1);for(var y=0;y<256;y++)(y+256).toString(16).substring(1);function d(t,e,r){var n,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Set,a=r;return o.has(t)?(a[e]="[Circular Reference]",r):(o.add(t),Object(t)!==t?a[e]=t:Array.isArray(t)?function(){for(var r=t.length,n=0;n<r;n+=1)d(t[n],e?"".concat(e,".").concat(n):"".concat(n),a,o);0===r&&(a[e]=[])}():(n=!0,Object.keys(t).forEach((function(r){n=!1,d(t[r],e?"".concat(e,".").concat(r):r,a,o)})),n&&(a[e]={})),o.delete(t),a)}function p(t){return d(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",{})}function h(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var g,m,b,w,_,S,A={exports:{}},I={exports:{}};function O(){return g||(g=1,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&e.rotl(t,8)|4278255360&e.rotl(t,24);for(var r=0;r<t.length;r++)t[r]=e.endian(t[r]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],r=0,n=0;r<t.length;r++,n+=8)e[n>>>5]|=t[r]<<24-n%32;return e},wordsToBytes:function(t){for(var e=[],r=0;r<32*t.length;r+=8)e.push(t[r>>>5]>>>24-r%32&255);return e},bytesToHex:function(t){for(var e=[],r=0;r<t.length;r++)e.push((t[r]>>>4).toString(16)),e.push((15&t[r]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(parseInt(t.substr(r,2),16));return e},bytesToBase64:function(e){for(var r=[],n=0;n<e.length;n+=3)for(var o=e[n]<<16|e[n+1]<<8|e[n+2],a=0;a<4;a++)8*n+6*a<=8*e.length?r.push(t.charAt(o>>>6*(3-a)&63)):r.push("=");return r.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var r=[],n=0,o=0;n<e.length;o=++n%4)0!=o&&r.push((t.indexOf(e.charAt(n-1))&Math.pow(2,-2*o+8)-1)<<2*o|t.indexOf(e.charAt(n))>>>6-2*o);return r}},I.exports=e),I.exports;var t,e}function T(){if(b)return m;b=1;var t={utf8:{stringToBytes:function(e){return t.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(t.bin.bytesToString(e)))}},bin:{stringToBytes:function(t){for(var e=[],r=0;r<t.length;r++)e.push(255&t.charCodeAt(r));return e},bytesToString:function(t){for(var e=[],r=0;r<t.length;r++)e.push(String.fromCharCode(t[r]));return e.join("")}}};return m=t}function k(){if(_)return w;function t(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}return _=1,w=function(e){return null!=e&&(t(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&t(e.slice(0,0))}(e)||!!e._isBuffer)}}var E=(S||(S=1,function(){var t=O(),e=T().utf8,r=k(),n=T().bin,o=function(a,i){a.constructor==String?a=i&&"binary"===i.encoding?n.stringToBytes(a):e.stringToBytes(a):r(a)?a=Array.prototype.slice.call(a,0):Array.isArray(a)||a.constructor===Uint8Array||(a=a.toString());for(var u=t.bytesToWords(a),c=8*a.length,s=1732584193,f=-271733879,l=-1732584194,v=271733878,y=0;y<u.length;y++)u[y]=16711935&(u[y]<<8|u[y]>>>24)|4278255360&(u[y]<<24|u[y]>>>8);u[c>>>5]|=128<<c%32,u[14+(c+64>>>9<<4)]=c;var d=o._ff,p=o._gg,h=o._hh,g=o._ii;for(y=0;y<u.length;y+=16){var m=s,b=f,w=l,_=v;s=d(s,f,l,v,u[y+0],7,-680876936),v=d(v,s,f,l,u[y+1],12,-389564586),l=d(l,v,s,f,u[y+2],17,606105819),f=d(f,l,v,s,u[y+3],22,-1044525330),s=d(s,f,l,v,u[y+4],7,-176418897),v=d(v,s,f,l,u[y+5],12,1200080426),l=d(l,v,s,f,u[y+6],17,-1473231341),f=d(f,l,v,s,u[y+7],22,-45705983),s=d(s,f,l,v,u[y+8],7,1770035416),v=d(v,s,f,l,u[y+9],12,-1958414417),l=d(l,v,s,f,u[y+10],17,-42063),f=d(f,l,v,s,u[y+11],22,-1990404162),s=d(s,f,l,v,u[y+12],7,1804603682),v=d(v,s,f,l,u[y+13],12,-40341101),l=d(l,v,s,f,u[y+14],17,-1502002290),s=p(s,f=d(f,l,v,s,u[y+15],22,1236535329),l,v,u[y+1],5,-165796510),v=p(v,s,f,l,u[y+6],9,-1069501632),l=p(l,v,s,f,u[y+11],14,643717713),f=p(f,l,v,s,u[y+0],20,-373897302),s=p(s,f,l,v,u[y+5],5,-701558691),v=p(v,s,f,l,u[y+10],9,38016083),l=p(l,v,s,f,u[y+15],14,-660478335),f=p(f,l,v,s,u[y+4],20,-405537848),s=p(s,f,l,v,u[y+9],5,568446438),v=p(v,s,f,l,u[y+14],9,-1019803690),l=p(l,v,s,f,u[y+3],14,-187363961),f=p(f,l,v,s,u[y+8],20,1163531501),s=p(s,f,l,v,u[y+13],5,-1444681467),v=p(v,s,f,l,u[y+2],9,-51403784),l=p(l,v,s,f,u[y+7],14,1735328473),s=h(s,f=p(f,l,v,s,u[y+12],20,-1926607734),l,v,u[y+5],4,-378558),v=h(v,s,f,l,u[y+8],11,-2022574463),l=h(l,v,s,f,u[y+11],16,1839030562),f=h(f,l,v,s,u[y+14],23,-35309556),s=h(s,f,l,v,u[y+1],4,-1530992060),v=h(v,s,f,l,u[y+4],11,1272893353),l=h(l,v,s,f,u[y+7],16,-155497632),f=h(f,l,v,s,u[y+10],23,-1094730640),s=h(s,f,l,v,u[y+13],4,681279174),v=h(v,s,f,l,u[y+0],11,-358537222),l=h(l,v,s,f,u[y+3],16,-722521979),f=h(f,l,v,s,u[y+6],23,76029189),s=h(s,f,l,v,u[y+9],4,-640364487),v=h(v,s,f,l,u[y+12],11,-421815835),l=h(l,v,s,f,u[y+15],16,530742520),s=g(s,f=h(f,l,v,s,u[y+2],23,-995338651),l,v,u[y+0],6,-198630844),v=g(v,s,f,l,u[y+7],10,1126891415),l=g(l,v,s,f,u[y+14],15,-1416354905),f=g(f,l,v,s,u[y+5],21,-57434055),s=g(s,f,l,v,u[y+12],6,1700485571),v=g(v,s,f,l,u[y+3],10,-1894986606),l=g(l,v,s,f,u[y+10],15,-1051523),f=g(f,l,v,s,u[y+1],21,-2054922799),s=g(s,f,l,v,u[y+8],6,1873313359),v=g(v,s,f,l,u[y+15],10,-30611744),l=g(l,v,s,f,u[y+6],15,-1560198380),f=g(f,l,v,s,u[y+13],21,1309151649),s=g(s,f,l,v,u[y+4],6,-145523070),v=g(v,s,f,l,u[y+11],10,-1120210379),l=g(l,v,s,f,u[y+2],15,718787259),f=g(f,l,v,s,u[y+9],21,-343485551),s=s+m>>>0,f=f+b>>>0,l=l+w>>>0,v=v+_>>>0}return t.endian([s,f,l,v])};o._ff=function(t,e,r,n,o,a,i){var u=t+(e&r|~e&n)+(o>>>0)+i;return(u<<a|u>>>32-a)+e},o._gg=function(t,e,r,n,o,a,i){var u=t+(e&n|r&~n)+(o>>>0)+i;return(u<<a|u>>>32-a)+e},o._hh=function(t,e,r,n,o,a,i){var u=t+(e^r^n)+(o>>>0)+i;return(u<<a|u>>>32-a)+e},o._ii=function(t,e,r,n,o,a,i){var u=t+(r^(e|~n))+(o>>>0)+i;return(u<<a|u>>>32-a)+e},o._blocksize=16,o._digestsize=16,A.exports=function(e,r){if(null==e)throw new Error("Illegal argument "+e);var a=t.wordsToBytes(o(e,r));return r&&r.asBytes?a:r&&r.asString?n.bytesToString(a):t.bytesToHex(a)}}()),A.exports),B=h(E),j=function(t){var e={};"string"==typeof t&&(e.company_id=B(t));var r="object"===u(t)?Object.keys(t):[];return r.forEach((function(r){"id"!==r?e[r]=t[r]:e.company_id=t[r]})),"object"!==u(t)||r.includes("id")||(e.company_id=B(e.name)),e},R=new l(s),L=function(){return n((function t(e,n,o){r(this,t),n.logLevel&&R.setLogLevel(n.logLevel),this.analytics=n,this.name=c,this.appId=e.appId;var a=null!=o?o:{};this.shouldApplyDeviceModeTransformation=a.shouldApplyDeviceModeTransformation,this.propagateEventsUntransformedOnError=a.propagateEventsUntransformedOnError,this.destinationId=a.destinationId}),[{key:"init",value:function(){var t;t=this.appId,window.intercomSettings={app_id:t},function(){var t=window,e=t.Intercom;if("function"==typeof e)e("reattach_activator"),e("update",t.intercomSettings);else{var r=document,n=function(){n.c(arguments)};n.q=[],n.c=function(t){n.q.push(t)},t.Intercom=n;var o=function(){var t=r.createElement("script");t.setAttribute("data-loader","RS_JS_SDK"),t.type="text/javascript",t.async=!0,t.src="https://widget.intercom.io/widget/".concat(window.intercomSettings.app_id);var e=r.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)};"complete"===document.readyState?(o(),window.intercom_code=!0):t.attachEvent?(t.attachEvent("onload",o),window.intercom_code=!0):(t.addEventListener("load",o,!1),window.intercom_code=!0)}}()}},{key:"isLoaded",value:function(){return!!window.intercom_code}},{key:"isReady",value:function(){return this.isLoaded()}},{key:"identify",value:function(t){var e=t.message,r=e.context,n=e.userId,o=r.traits,a=function(t){var e={};if(t){var r=t.user_hash||null;r&&(e.user_hash=r);var n=t.hideDefaultLauncher||null;n&&(e.hide_default_launcher=n)}return e}(r.Intercom||null);o.name=function(t){var e=t.firstName,r=t.lastName,n=t.name;return n||!e&&!r?n:"".concat(e," ").concat(r).trim()}(o),Object.keys(o).forEach((function(t){if(Object.prototype.hasOwnProperty.call(o,t)){var e=o[t];switch(t){case"createdAt":a.created_at=e,a[t]=e;break;case"anonymousId":a.user_id=e,a[t]=e;break;case"company":a.companies=[j(e)];break;case"avatar":a.avatar={type:"avatar",image_url:e};break;default:a[t]=e}}})),a.user_id=n,window.Intercom("update",a)}},{key:"track",value:function(t){var e={},r=t.message,n=r.event,o=r.userId,a=r.anonymousId,i=r.originalTimestamp,c=(null==r?void 0:r.properties)||{};n&&(e.event_name=n),e.user_id=o||a,Object.keys(c).forEach((function(t){var r=c[t];r&&"object"!==u(r)&&!Array.isArray(r)?e[t]=r:r&&"object"===u(r)&&Object.assign(e,p(r,t))})),e.created_at=Math.floor(new Date(i).getTime()/1e3),window.Intercom("trackEvent",e.event_name,e)}},{key:"page",value:function(t){window.Intercom("update")}}])}();return t.INTERCOM=L,t}({});
//# sourceMappingURL=INTERCOM.min.js.map

var Posthog_RS=function(e){"use strict";function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=Array(t);r<t;r++)o[r]=e[r];return o}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,a(o.key),o)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function n(e,t,r){return(t=a(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(e){if("string"==typeof e)return t(e,r);var o={}.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?t(e,r):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t);if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}var u=Object.defineProperty,l=function(e,t){return u(e,"name",{value:t,configurable:!0})},c=l((function(e){return null!==e&&"object"===s(e)}),"isObject"),p=l((function(e,t,r){return"function"==typeof r.join?r.join(e):e[0]+t+e[1]}),"join"),f=l((function(e,t,r){return"function"==typeof r.split?r.split(e):e.split(t)}),"split"),g=l((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return"function"!=typeof(null==r?void 0:r.isValid)||r.isValid(e,t)}),"isValid"),h=l((function(e){return c(e)||"function"==typeof e}),"isValidObject"),v=l((function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(c(r)||(r={default:r}),!h(e))return void 0!==r.default?r.default:e;"number"==typeof t&&(t=String(t));var o=Array.isArray(t),n="string"==typeof t,i=r.separator||".",a=r.joinChar||("string"==typeof i?i:".");if(!n&&!o)return e;if(void 0!==e[t])return g(t,e,r)?e[t]:r.default;var s=o?t:f(t,i,r),u=s.length,l=0;do{var v=s[l];for("string"!=typeof v&&(v=String(v));v&&"\\"===v.slice(-1);)v=p([v.slice(0,-1),s[++l]||""],a,r);if(void 0!==e[v]){if(!g(v,e,r))return r.default;e=e[v]}else{for(var d=!1,y=l+1;y<u;)if(d=void 0!==e[v=p([v,s[y++]],a,r)]){if(!g(v,e,r))return r.default;e=e[v],l=y-1;break}if(!d)return r.default}}while(++l<u&&h(e));return l===u?e:r.default}),"getValue"),d=v,y="POSTHOG",b="PostHog";n({},b,"Posthog"),n(n(n(n(n(n(n({},y,y),"PostHog",y),"Posthog",y),"posthog",y),"Post Hog",y),"Post hog",y),"post hog",y);for(var m={LOG:{value:0,method:console.log},INFO:{value:1,method:console.info},DEBUG:{value:2,method:console.debug},WARN:{value:3,method:console.warn},ERROR:{value:4,method:console.error}},S=function(){return o((function e(t,o){r(this,e),this.level=+o||m.ERROR.value,this.scope=t||""}),[{key:"setLogLevel",value:function(e){if(e&&"string"==typeof e){var t=e.toUpperCase();this.level=m[t]?m[t].value:this.level}}},{key:"setScope",value:function(e){this.scope=e||this.scope}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logBase(t,m.LOG.value)}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logBase(t,m.INFO.value)}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logBase(t,m.DEBUG.value)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logBase(t,m.WARN.value)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logBase(t,m.ERROR.value)}},{key:"logBase",value:function(e,t){if(this.level<=t){var r=Object.values(m).find((function(e){return e.value===t}));r.method.apply(r,i(this.getLogData(e)))}}},{key:"getLogData",value:function(e){if(Array.isArray(e)&&e.length>0){var t="%c RS SDK";this.scope&&(t="".concat(t," - ").concat(this.scope));var r=e[0].trim();t="".concat(t," %c ").concat(r);var o=[];return o.push(t),o.push("font-weight: bold; background: black; color: white;"),o.push("font-weight: normal;"),o.push.apply(o,i(e.slice(1))),o}return e}}])}(),k=256;k--;)(k+256).toString(16).substring(1);for(var P=0;P<256;P++)(P+256).toString(16).substring(1);var w=function(e){return e&&(e[b]||e[y])};var _=new S(b),A=function(){return o((function e(t,o,n){var i,a;r(this,e),o.logLevel&&_.setLogLevel(o.logLevel),this.name=y,this.analytics=o,this.teamApiKey=t.teamApiKey,this.yourInstance=(null!=(i=t.yourInstance)&&i.endsWith("/")?i.replace(/\/+$/,""):i)||"https://app.posthog.com",this.autocapture=t.autocapture||!1,this.capturePageView=t.capturePageView||!1,this.disableSessionRecording=t.disableSessionRecording||!1,this.disableCookie=t.disableCookie||!1,this.propertyBlackList=function(e){var t=[];return e.propertyBlackList&&e.propertyBlackList.length>0&&e.propertyBlackList.forEach((function(e){var r;""!==(null==e||null===(r=e.property)||void 0===r?void 0:r.trim())&&t.push(e.property)})),t}(t),this.xhrHeaders=function(e){var t={};return e.xhrHeaders&&e.xhrHeaders.length>0&&e.xhrHeaders.forEach((function(e){var r,o;""!==(null==e||null===(r=e.key)||void 0===r?void 0:r.trim())&&""!==(null==e||null===(o=e.value)||void 0===o?void 0:o.trim())&&(t[e.key]=e.value)})),t}(t),this.enableLocalStoragePersistence=t.enableLocalStoragePersistence,void 0!==(a=t.personProfiles)&&function(e){return null!==e}(a)&&(this.personProfiles=t.personProfiles);var s=null!=n?n:{};this.shouldApplyDeviceModeTransformation=s.shouldApplyDeviceModeTransformation,this.propagateEventsUntransformedOnError=s.propagateEventsUntransformedOnError,this.destinationId=s.destinationId}),[{key:"init",value:function(){var e=w(this.analytics.loadOnlyIntegrations);if(!e||e.loadIntegration){var t,r,o,n,i,a;t=document,(r=window.posthog||[]).__SV||(window.posthog=r,r._i=[],r.init=function(e,s,u){function l(e,t){var r=t.split(".");2==r.length&&(e=e[r[0]],t=r[1]),e[t]=function(){e.push([t].concat(Array.prototype.slice.call(arguments,0)))}}(i=t.createElement("script")).type="text/javascript",i.async=!0,i.setAttribute("data-loader","RS_JS_SDK"),i.src=s.api_host+"/static/array.js",(a=t.getElementsByTagName("script")[0]).parentNode.insertBefore(i,a);var c=r;for(void 0!==u?c=r[u]=[]:u="posthog",c.people=c.people||[],c.toString=function(e){var t="posthog";return"posthog"!==u&&(t+="."+u),e||(t+=" (stub)"),t},c.people.toString=function(){return c.toString(1)+".people (stub)"},o="capture identify alias people.set people.set_once set_config register register_once unregister opt_out_capturing has_opted_out_capturing opt_in_capturing reset isFeatureEnabled onFeatureFlags".split(" "),n=0;n<o.length;n++)l(c,o[n]);r._i.push([e,s,u])},r.__SV=1);var s={api_host:this.yourInstance,autocapture:this.autocapture,capture_pageview:this.capturePageView,disable_session_recording:this.disableSessionRecording,property_blacklist:this.propertyBlackList,disable_cookie:this.disableCookie};this.personProfiles&&(s.person_profiles=this.personProfiles),null!=e&&e.loaded&&(s.loaded=e.loaded),this.xhrHeaders&&Object.keys(this.xhrHeaders).length>0&&(s.xhr_headers=this.xhrHeaders),this.enableLocalStoragePersistence&&(s.persistence="localStorage+cookie"),posthog.init(this.teamApiKey,s)}}},{key:"isLoaded",value:function(){var e;return!(null===(e=window)||void 0===e||null===(e=e.posthog)||void 0===e||!e.__loaded)}},{key:"isReady",value:function(){return this.isLoaded()}},{key:"processSuperProperties",value:function(e){var t=w(e.message.integrations);if(t){var r=t.superProperties,o=t.setOnceProperties,n=t.unsetProperties;r&&Object.keys(r).length>0&&posthog.register(r),o&&Object.keys(o).length>0&&posthog.register_once(o),n&&n.length>0&&n.forEach((function(e){e&&""!==e.trim()&&posthog.unregister(e)}))}}},{key:"identify",value:function(e){var t=e.message.context.traits,r=e.message.userId;r&&posthog.identify(r,t),this.processSuperProperties(e)}},{key:"track",value:function(e){var t=e.message,r=t.event,o=t.properties;this.processSuperProperties(e),posthog.capture(r,o)}},{key:"page",value:function(e){this.processSuperProperties(e),posthog.capture("$pageview")}},{key:"group",value:function(e){var t,r=d(e.message,"traits"),o=d(e.message,"groupId");r&&(t=d(r,"groupType"),delete r.groupType),t&&o?(posthog.group(t,o,r),this.processSuperProperties(e)):_.error("groupType and groupKey is required for group call")}}])}();return e.Posthog=A,e}({});
//# sourceMappingURL=Posthog.min.js.map
